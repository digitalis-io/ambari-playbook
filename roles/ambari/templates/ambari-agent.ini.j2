# Ambari Agent Configuration
# {{ ansible_managed }}

[server]
hostname={{ ambari_server_hostname }}
url_port={{ ambari_server_port }}
secured_url_port=8441
connect_retry_delay=10
max_reconnect_retry_delay=30

[agent]
prefix=/var/lib/ambari-agent/data
tmp_dir=/var/lib/ambari-agent/tmp
pid_dir=/var/run/ambari-agent
logdir=/var/log/ambari-agent
loglevel={{ ambari_agent_log_level }}
data_cleanup_interval=86400
data_cleanup_max_age=2592000
data_cleanup_max_size_mb=100
ping_port=8670
cache_dir={{ ambari_agent_cache_dir }}
tolerate_download_failures=true
run_as_user=root
parallel_execution=0
alert_grace_period=5
status_commands_timeout=5
alert_kinit_timeout=14400000
system_resource_overrides=/etc/resource_overrides

[security]
keysdir=/var/lib/ambari-agent/keys
server_crt=ca.crt
passphrase_env_var_name=AMBARI_PASSPHRASE
ssl_verify_cert=0

[services]
pidlookuppath=/var/run/ambari-agent/ambari-sudo.sh,/var/lib/ambari-agent/ambari-sudo.sh

[heartbeat]
state_interval_seconds=60
dirs=/etc/hadoop,/etc/hadoop/conf,/etc/hbase,/etc/hcatalog,/etc/hive,/etc/oozie,/etc/sqoop,/etc/ganglia,/etc/nagios,/etc/webhcat,/etc/hue,/etc/accumulo,/etc/phoenix,/etc/ranger,/etc/knox,/etc/storm,/etc/spark,/etc/kafka,/etc/zookeeper
log_max_symbols_size=900000
idle_interval_min={{ ambari_agent_heartbeat_interval }}
idle_interval_max=90

[logging]
syslog_enabled=0